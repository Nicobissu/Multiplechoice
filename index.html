<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Evaluación interactiva de energías sustentables</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="app">
    <section class="auth-card" id="authSection">
      <h2 id="authTitle">Ingresá a tu cuenta</h2>
      <p id="authSubtitle">Registrate o iniciá sesión para guardar tu progreso y tus resultados.</p>
      <form id="loginForm" class="auth-form" autocomplete="on">
        <div class="form-field">
          <label for="loginUsername">Usuario</label>
          <input type="text" id="loginUsername" name="username" autocomplete="username" required />
        </div>
        <div class="form-field">
          <label for="loginPassword">Contraseña</label>
          <input type="password" id="loginPassword" name="password" autocomplete="current-password" required />
        </div>
        <button type="submit" class="auth-submit">Iniciar sesión</button>
        <p class="auth-switch">
          ¿No tenés una cuenta?
          <button type="button" class="link-btn" id="showRegisterBtn">Registrate</button>
        </p>
      </form>
      <form id="registerForm" class="auth-form" autocomplete="off" hidden>
        <div class="form-field">
          <label for="registerUsername">Elegí un usuario</label>
          <input type="text" id="registerUsername" name="username" autocomplete="username" required />
        </div>
        <div class="form-field">
          <label for="registerPassword">Contraseña</label>
          <input type="password" id="registerPassword" name="password" autocomplete="new-password" required />
        </div>
        <div class="form-field">
          <label for="registerConfirm">Repetí la contraseña</label>
          <input type="password" id="registerConfirm" name="confirmPassword" autocomplete="new-password" required />
        </div>
        <button type="submit" class="auth-submit">Crear cuenta</button>
        <p class="auth-switch">
          ¿Ya tenés usuario?
          <button type="button" class="link-btn" id="showLoginBtn">Iniciar sesión</button>
        </p>
      </form>
      <p class="auth-message" id="authMessage" role="alert"></p>
    </section>
    <div id="quizSection" hidden>
      <div class="user-bar" id="userBar" hidden>
        <div class="user-info">
          <span class="user-icon" aria-hidden="true">👤</span>
          <span>Sesión iniciada como <strong id="currentUserLabel"></strong></span>
        </div>
        <button type="button" class="logout-btn" id="logoutBtn">Cerrar sesión</button>
      </div>
      <header class="app-header">
        <h1>Evaluación interactiva: hidrógeno, energía nuclear y renovables</h1>
        <p>Respondé el cuestionario inspirado en los parciales 2021-2023 y recibí retroalimentación inmediata. Iniciá sesión para conservar tu progreso y tus respuestas en este dispositivo.</p>
      </header>
      <div class="layout">
        <aside class="summary-panel" aria-label="Resumen de preguntas">
          <h2>Resumen</h2>
          <div class="summary-buttons" id="summaryButtons"></div>
        </aside>
        <section class="question-card" id="questionCard" aria-live="polite">
          <div id="questionContent"></div>
          <div class="question-footer">
            <button type="button" class="retry-btn" id="retryButton" hidden>Reintentar</button>
            <div class="nav-buttons">
              <button type="button" class="nav-btn" id="prevBtn">Anterior</button>
              <button type="button" class="nav-btn" id="nextBtn">Siguiente</button>
            </div>
          </div>
        </section>
      </div>
      <section class="results-card" id="resultsCard" aria-live="polite">
        <h2>Resultados</h2>
        <p class="score-line"><span id="scoreCount">0 / 0</span> respuestas correctas</p>
        <p class="score-percentage" id="scorePercentage">0%</p>
        <span class="badge" id="scoreBadge">A seguir</span>
        <p class="resume-note">Tus respuestas quedan guardadas localmente junto a tu usuario para que puedas continuar más tarde. El puntaje refleja únicamente las preguntas con corrección automática.</p>
        <button type="button" class="reset-btn" id="resetBtn">Reiniciar evaluación</button>
      </section>
    </div>
  </main>
  <script src="app.js"></script>
</body>
</html>
